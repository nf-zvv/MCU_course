# Статическая индикация

## Цель

Изучить работу статической индикации с использованием семисегментного светодиодного индикатора.

## Оборудование

1. Миниблок микроконтроллера ATmega16
2. Семисегментный светодиодный индикатор
3. Провода соединительные
4. Кабель USB - miniUSB
5. Блок БИЦУ (наборное поле с источником питания)
6. ПК с ОС GNU/Linux Ubuntu

## Теоретические сведения

Семисегментный индикатор служит для отображения цифр, также на нем можно вывести ограниченный набор букв. Одноразрядный индикатор представляет собой набор светодиодов в форме сегментов (рис. 1а).

Индикаторы выпускаются как с общим анодом (ОА), так и с общим катодом (ОК). В первом случае аноды у всех сегментов объединены и выведены наружу одной общей линией, а катоды выведены отдельными линиями (рис. 1б). Во втором случае объединены катоды (рис. 1в).

![7 segment LED](/img/7seg_led.png)

Рис. 1. Семисегментный светодиодный индикатор (а - условное обозначение; б - схема индикатора с общим анодом; в - схема индикатора с общим катодом)

Хотя индикатор называется семисегментным, нередко линий управления 8, так как индикатор содержит еще и десятичную точку (вывод h индикатора – см. рис. 1).

На рисунке 2 показано подключение семисегментного светодиодного индикатора (СДИ) с общим анодом к микроконтроллеру. Выводы сегментов индикатора (катоды) подключаются к выводам порта B микроконтроллера, а общий вывод (аноды) в плюсу источник питания.

![7 segment LED scheme](/img/7seg_led_scheme.png)

Рис. 2. Схема подключения индикатора к микроконтроллеру

Для того чтобы отобразить, например, цифру 5, надо вызвать свечение сегментов a, с, d, f, g подав на них НИЗКИЕ уровни напряжения (лог. 0), на остальные сегменты подать ВЫСОКИЕ уровни (лог. 1).

![7 segment LED - digit 5](/img/led5.png)

Рис. 3. Отображение на индикаторе цифры 5

Таким образом, необходимо сформировать на выводах порта B двоичное число 0b10010010.
При этом выводы порта должны быть предварительно настроены на выход.

В таблице 1 показаны коды для формирования десятичных цифр для вывода на индикатор. В первой строке представлены сегменты индикатора, ниже – линии порта, к которым подключаются эти сегменты. В ячейках на пересечении названия сегмента и отображаемой цифры (символа) указаны логические уровни, которые должны присутствовать на данном сегменте для индикации выбранной цифры (лог.1 – ВЫСОКИЙ уровень, лог.0 – НИЗКИЙ уровень).

Таблица 1. Знакогенератор для семисегментных индикаторов с общим анодом (сегмент индикатора зажигается подачей лог. 0)

|  Цифра  |  h  |  g  |  f  |  e  |  d  |  c  |  b  |  a  |  hex  |
|---------|-----|-----|-----|-----|-----|-----|-----|-----|-------|
| пробел  |  1  |  1  |  1  |  1  |  1  |  1  |  1  |  1  |  0xFF |
|    0    |  1  |  1  |  0  |  0  |  0  |  0  |  0  |  0  |  0xC0 |
|    1    |  1  |  1  |  1  |  1  |  1  |  0  |  0  |  1  |  0xF9 |
|    2    |  1  |  0  |  1  |  0  |  0  |  1  |  0  |  0  |  0xA4 |
|    3    |  1  |  0  |  1  |  1  |  0  |  0  |  0  |  0  |  0xB0 |
|    4    |  1  |  0  |  0  |  1  |  1  |  0  |  0  |  1  |  0x99 |
|    5    |  1  |  0  |  0  |  1  |  0  |  0  |  1  |  0  |  0x92 |
|    6    |  1  |  0  |  0  |  0  |  0  |  0  |  1  |  0  |  0x82 |
|    7    |  1  |  1  |  1  |  1  |  1  |  0  |  0  |  0  |  0xF8 |
|    8    |  1  |  0  |  0  |  0  |  0  |  0  |  0  |  0  |  0x80 |
|    9    |  1  |  0  |  0  |  1  |  0  |  0  |  0  |  0  |  0x90 |

## Ход работы

1. Изучить принцип формирования цифры на 7-сегментном светодиодном индиакторе.
2. Собрать схему с использованием микроконтроллера, 7-сегментного светодиодного индикатора и кнопки.
3. Разработать программу для микроконтрорллера в соответствии с индивидуальным заданием.

## Задания для самостоятельной работы

1. Разработать программу, реализующую «прямой отсчет»: последовательное переключение цифр от 0 до 9 на 7-сегментном светодиодном индикаторе, с периодом 1 с (с использованием подпрограммы задержки). Запуск автоматического переключения нажатием кнопки.
2. Разработать программу, реализующую «прямой отсчет»: последовательное переключение цифр от 0 до 9 на 7-сегментном светодиодном индикаторе, с периодом 1 с (с использованием прерывания таймера). Запуск автоматического переключения нажатием кнопки.
3. Разработать программу, реализующую «прямой отсчет»: последовательное переключение цифр от 0 до 9 на 7-сегментном светодиодном индикаторе, нажатием кнопки.
4. Разработать программу, реализующую «обратный отсчет»: последовательное переключение цифр от 9 до 0 на 7-сегментном светодиодном индикаторе, нажатием кнопки.
5. Сформировать коды для отображения на индикаторе букв A, b, C, d, E, F, и добавить их вывод при переборе последовательности.

## Содержание отчета

1. Титульный лист
2. Цель, задание на лабораторную работу
3. Электрическая схема
4. Алгоритм работы
5. Заключение
6. Приложения

## Контрольные вопросы

1. Как устроен 7-сегментный светодиодный индиактор?
2. Какие по конструкции бывают 7-сегментные светодиодные индиакторы?
3. Как отобразить на индикаторе определенную цифру?
4. Что такое таблица знакогенератора?
